# This program is part of the
 
     Revised Mathematisch Centrum Algol 68 Test Set

  by Dick Grune [1979].

  This program is distributed with Algol 68 Genie with
  kind permission of Dick Grune.

  This test set is available from:

     http://www.dickgrune.com/CS/Algol68

  or from the Vrije Universiteit Amsterdam:

     ftp://ftp.cs.vu.nl/pub/dick/Algol68/ #

PR quiet PR

#idef06#
BEGIN # Operators # STRING int = "INT   ", real = "REAL  ", rreal = "[]REAL";
      
      PROC (REF FILE) VOID n = newline;
      
      print (("Results must be:", n, int, 1, n, real, 1.0, n, rreal, 1.0, n, real, 3.0, n, rreal, 3.0, n, rreal, 2.0, n, rreal, 2.0, n, int, 3, n, real, 3.0, n, rreal, 3.0, n, real, 4.0, n, rreal, 4.0, n, real, 4.0, n, rreal, 4.0, n, n, "Results are:", n));
      OP AA = (UNION (INT, REAL, [] REAL) p) UNION (REAL, [] REAL):
         CASE p
         IN (INT i): (print ((int, i, n));
                      AA REAL (i)), (REAL r): (print ((real, r, n));
                                               AA [] REAL (r))
         OUSE print ((rreal, p, n));
              p
         IN ([] REAL rr): CASE ROUND rr[1]
            IN 3.0, rr
            OUT 4.0
            ESAC
         OUT error
         ESAC;
      
      FOR i TO 3 
      DO AA AA CASE i
         IN UNION (REAL, INT) (1), UNION (INT, [] REAL) ([] REAL (2)), AA 3
         ESAC
      OD EXIT
      error: print ("Error in united-case-clause")
END