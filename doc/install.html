<!-- Header -->
<html>
<head>
<title>Algol 68 Genie</title>
<meta name="Keywords" content="algol,algol68,68,algol-68,algol68g,algol68-g,a68g,a68-g,68g,genie,interpreter">
<meta http-equiv="Content-Style-Type" content="text/css"; charset=ISO-8859-1">
<style type="text/css">
a:link    {color: blue; text-decoration: underline;}
a:visited {color: blue; text-decoration: underline;}
a:active  {color: blue; text-decoration: underline;}
p {font-size: 10pt; font-family: arial, sans-serif;}
u {font-size: 10pt; font-family: arial, sans-serif;}
dd {font-size: 10pt; font-family: arial, sans-serif;}
h1 {font-size: 14pt; font-family: arial, sans-serif;}
h2 {font-size: 12pt; font-family: arial, sans-serif;}
h3 {font-size: 10pt; font-family: arial, sans-serif;}
h4 {font-size: 10pt; font-family: arial, sans-serif;}
td {font-size: 10pt; font-family: arial, sans-serif;}
ul {font-size: 10pt; font-family: arial, sans-serif;}
body {font-size: 10pt; font-family: arial, sans-serif;}
tt {font-size: 10pt; font-family: "courier new", monospace;}
code {font-size: 10pt; font-family: "courier new", monospace;}
pre {font-size: 10pt; font-family: "courier new", monospace;}
</style>
</head>

<body bgcolor="white">

<table width="100%" border=0 cellspacing=0 cellpadding=0>
<td width="100%" background="lines.gif">
<img src="lines.gif" align=right>
<small>
<b>Documentation for Algol 68 Genie Mark 11.1</b>
</small>
</td>
</table>


<table width="100%" border=0 cellspacing=0 cellpadding=0>
<td width="50%" valign=top bgcolor="white">
<br>
<h2>Installing Algol 68 Genie</h2>
</td>
<td width="30%" bgcolor="white" valign=top align=center>
<img src="algol68.gif">
</td>
<td width="5%" valign=top bgcolor="white">
</td>
<td width="15%" valign=top bgcolor="white">
<!-- Navigation bar -->
<table border="0" cellspacing="0" width="100%">
<tr>
<td background="lines.gif">
<p>
<a href="algol.html"><small><b>A68G Home</b></small></a>
<p>
<a href="contents.html"><small><b>Documentation</b></small></a><br>
<p>
<a href="report_contents.html"><small><b>Revised Report</b></small></a>
<p>
<a href="algol.html#obtaining"><small><b>Downloads</b></small></a>
</td>
</tr>
</table>
<!-- End navigation bar -->
</td>
</table>

<h3>Algol 68 Genie Mark 11.1</h3>
<p>
Algol 68 Genie (Algol68G) is free software distributed under GNU GPL. This software is 
distributed in the hope that it will be useful, but without any warranty. 
The author of this software does not accept responsibility to anyone for the 
consequences of using it or for whether it serves any particular purpose or 
works at all. 
Consult the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a> for details.

<h3>A. Brief installation guide</h3>
<p>
The following list of commands may suffice to help you on your way (if not, follow the detailed instructions in next paragraphs):
<pre>
tar -xzf algol68g-mk11.1.tar.gz
cd algol68g-mk11.1
./configure -O --threads
make
./a68g --version
make install     # if you are superuser #
</pre>

<h3>B. Detailed installation guide</h3>

<p>
This describes how to install Algol68G on UNIX/Linux.

<h3>Optional libraries</h3>

<p>
If available on your system, Algol68G can use next libraries to extend its functionality:
<ul>
<li><a href="http://www.gnu.org/software/plotutils/">GNU plotutils</a> for drawing from Algol 68
<li><a href="http://www.gnu.org/software/gsl/">GNU scientific library</a> to extend the mathematical capabilities of the standard environ
<li><a href="http://www.postgresql.org/">PostgreSQL</a> for writing PostgreSQL database client applications
</ul>
<p>
Algol 68 Genie Mark 11.1 was developed using next versions of optional libraries:
<ul>
<li><a href="http://www.gnu.org/software/plotutils/">GNU plotutils</a> version 2.5 (libplot 2.5)
<li><a href="http://www.gnu.org/software/gsl/">GNU scientific library</a> version 1.10
<li><a href="http://www.postgresql.org/">PostgreSQL</a> version 8.3.0
</ul>

<p>
The <code>configure</code> script checks <code>/usr/lib</code>, <code>/usr/local/lib</code>, 
<code>/usr/include</code> and <code>/usr/local/include</code> for shared 
libraries and necessary includes. If necessary files are not detected then 
Algol68G builds without support for absent libraries.

<br>
<h3>Generic installation</h3>

<p>
For a generic installation, follow next instructions.
For customised installation, refer to the INSTALL file in the distribution.
<p>
Suppose you are user <code>algol68g</code> and your prompt indicates your present working directory in this way:
<pre>
/home/algol68g> 
</pre>

<h4>Step 1: Unpacking the distribution</h4>
<p>
<li>Unpack the distribution by typing:
<pre>
/home/algol68g> tar -xzf algol68g-mk11.1.tar.gz
</pre>

<h4>Step 2: Configuring</h4>
<p>
<li>Make the distribution directory the present working directory by typing:
<pre>
/home/algol68g> cd algol68g-mk11.1
</pre>

<p>
<li>In the distribution directory type:
<pre>
/home/algol68g/algol68g-mk11.1> ./configure
</pre>

<p>
This will generate a makefile. 
<p>
The configure script accepts various
options. For an overview of options, type:
<p>
<pre>
/home/algol68g/algol68g-mk11.1> ./configure --help
</pre>

<p>
Note that various options for optimisation, debugging and profiling
assume you are using <code>gcc</code>, <code>gdb</code> and <code>gprof</code>.
<p> 
If you are interested in Algol68G's parallel clause, you need to 
build using POSIX threads. To build with POSIX threads, type:
<pre>
/home/algol68g/algol68g-mk11.1> ./configure --threads
</pre>

<h4>Step 3: Building</h4>
<p>
The standard makefile will turn warnings off in case <code>gcc</code> is used.
If you do not use <code>gcc</code>, or make <code>gcc</code> issue warnings, it is possible 
that your C compiler will issue spurious warnings 
suggesting that some variables might be clobbered by <code>longjmp</code> or
<code>vfork</code>. For some reason data path analysis in such compiler cannot 
see that the code is safe since these variables are declared <code>volatile</code>.
There is no risk of clobbering, and therefore such warning messages 
can be safely ignored.
<p>
<li>Type:
<pre>
/home/algol68g/algol68g-mk11.1> make depend
</pre>

<p>
This will register dependencies needed to build Algol68G.

<p>
<li>If you do not want to install Algol68G for all users, type:
<pre>
/home/algol68g/algol68g-mk11.1> make all
</pre>

<p>
or, simply:
<pre>
/home/algol68g/algol68g-mk11.1> make
</pre>

<p>
The executable <code>a68g</code> will be put in the present working directory.
<p>
If you want to install Algol68G for all users on your system, type:
<pre>
/home/algol68g/algol68g-mk11.1> make install
</pre>

<p>
to make available the executable and a manual page.
Targets for those files are <code>/usr/local/bin</code> and <code>/usr/local/man</code>. 
If latter directory does not exist, <code>/usr/share/man</code> and then <code>/usr/man</code> 
are tried.
<p>
<li>Installation can be undone by typing:
<pre>
/home/algol68g/algol68g-mk11.1> make uninstall
</pre>

<p>
<li>Note that in you can supply <code>CPPFLAGS</code>, <code>CFLAGS</code> and <code>LDFLAGS</code> to <code>make</code>; 
for instance type:
<pre>
/home/algol68g/algol68g-mk11.1> make CFLAGS="-O"
</pre>
to optimise the code.

<p>
<li>To remove binaries used for building, type: 
<pre>
/home/algol68g/algol68g-mk11.1> make clean
</pre>
To remove all files used for building, type:
<pre>
/home/algol68g/algol68g-mk11.1> make distclean
</pre>

<h4>Step 4: Starting Algol 68 Genie</h4>
<p>
When you install <code>a68g</code> in the present working directory, you may want to include the current directory in your <TT>PATH</TT> variable. Otherwise you will need to indicate the current directory by typing <code>./a68g</code> as in the following example:
<pre>
/home/algol68g/algol68g-mk11.1> ./a68g --version
Algol 68 Genie Mark 11.1, copyright 2001-2008 J. Marcel van der Veer.
Algol 68 Genie is free software covered by the GNU General Public License.
There is ABSOLUTELY NO WARRANTY for Algol 68 Genie.
See the GNU General Public License for more details.

Algol 68 Genie Mark 11.1, released February 2008
Image "a68g" built by marcel on Feb 1 2008
Compiled on Linux 2.6.24.2.mvdv with gcc 4.2.3
GNU libplot 4.2
GNU Scientific Library 1.10
PostgreSQL libpq 8.3.0
Alignment 4 bytes
Default frame stack size: 2048 kB
Default expression stack size: 1024 kB
Default heap size: 25600 kB
Default handle pool size: 4096 kB
Default stack overhead: 512 kB
/home/algol68g/algol68g-mk11.1>
</pre>
If instead of above version statement you get a message like
<pre>
/home/algol68g/algol68g-mk11.1> ./a68g --version
./a68g: error in loading shared libraries
libgsl.so.0: cannot open shared object file: No such file or directory
/home/algol68g/algol68g-mk11.1>
</pre>
or
<pre>
/home/algol68g/algol68g-mk11.1> ./a68g --version
psql: error in loading shared libraries
libpq.so.4.1: cannot open shared object file: No such file or directory
/home/algol68g/algol68g-mk11.1>
</pre>
then your shared library search path was not properly set for the GNU Scientific Library or PostgreSQL's <code>libpq</code> library, respectively. The method to set the shared library search path varies between platforms, but the most widely used method is to set the environment variable <code>LD_LIBRARY_PATH</code>. In Bourne shells (<code>sh</code>, <code>ksh</code>, <code>bash</code>, <code>zsh</code>) you would use
<pre>
LD_LIBRARY_PATH=/usr/local/lib:/usr/local/pgsql/lib:$LD_LIBRARY_PATH
export LD_LIBRARY_PATH
</pre>
while in <code>csh</code> or <code>tcsh</code> you would use
<pre>
setenv LD_LIBRARY_PATH /usr/local/lib:/usr/local/pgsql/lib:$LD_LIBRARY_PATH
</pre>
You should put these commands into a shell start-up file such as <code>/etc/profile</code> or <code>~/.bash_profile</code>.  
When in doubt, refer to the manual pages of your system. 

<!-- Footer -->
<p>
<div style="border: 1px solid red">
<table cellpadding=6>
<tr>
<td>
<small>
Copyright &copy; 2001-2008 J. Marcel van der Veer.<br>
Algol 68 Genie Mark 11.1 (March 2008)
</small>
</td>
</tr>
</table>
</div>
</body>
</html>

