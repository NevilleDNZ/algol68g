# This program is part of the
 
     Revised Mathematisch Centrum Algol 68 Test Set

  by Dick Grune [1979].

  This program is distributed with Algol 68 Genie with
  kind permission of Dick Grune.

  This test set is available from:

     http://www.dickgrune.com/CS/Algol68

  or from the Vrije Universiteit Amsterdam:

     ftp://ftp.cs.vu.nl/pub/dick/Algol68/ #

PR quiet PR

#coer10#
BEGIN # Union with VOID #
      OP TOPROCINT = (INT i) PROC INT: INT: 1;
      
      OP TOVOID = (INT i) VOID: 1;
      
      STRING proc int = "proc int", void = "void", before = "before ", after = " after";
      
      print (("Results must be:", newline, void, newline, proc int, after, 1, newline, before, void, newline, before, void, newline, before, void, newline, proc int, 1, newline, void, newline, proc int, 1, newline, proc int, after, 1, newline, before, void, newline, newline, "Results are:", newline));
      UNION (PROC INT, VOID) upiv := EMPTY;
      
      PROC pupiv = VOID:
           print ((upiv | (PROC INT pi): ((print (proc int);
                                           pi), newline) | (void, newline)));
      
      pupiv;
      upiv := INT:
      (print (after);
       1);
      pupiv;
      upiv := VOID:
      (print (before);
       1);
      pupiv;
      upiv := VOID ((print (before);
                     1));
      pupiv;
      # firm void position #
      upiv := print (before);
      pupiv;
      upiv := TOPROCINT 1;
      pupiv;
      upiv := TOVOID 1;
      pupiv;
      upiv := INT: 1;
      upiv := label
      # must jump before assigning #
      ;
      print ("Error 1");
      label: pupiv;
      FOR i TO 2 
      DO upiv := CASE i
         IN INT:
            (print (after);
             1), VOID:
            (print (before);
             1)
         ESAC;
         pupiv
      OD
END